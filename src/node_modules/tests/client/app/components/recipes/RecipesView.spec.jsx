import React from 'react';
import {shallow} from 'enzyme';
import Recipe from 'client/factories/recipe';

import RecipesView from 'components/recipes/RecipesView';
import Cards from 'components/shared/card/Cards';
import RecipeCard from 'components/recipes/RecipeCard';

describe('<RecipesView />', () => {
  const recipes = Recipe.buildList(3);
  const wrapper = () => shallow(<RecipesView recipes={recipes} />);

  it('renders with s__recipes class', () => {
    const subject = wrapper().prop('className');
    expect(subject).to.contain('c__recipes');
  });

  it('renders <Cards />', () => {
    const subject = wrapper().find(Cards);
    expect(subject).to.have.lengthOf(1);
  });

  it('renders <RecipeCard /> for each recipe', () => {
    const subject = wrapper().find(RecipeCard);
    expect(subject).to.have.lengthOf(3);
  });
});
