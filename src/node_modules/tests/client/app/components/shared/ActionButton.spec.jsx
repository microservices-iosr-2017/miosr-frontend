import React from 'react';
import {shallow} from 'enzyme';

import {Glyphicon} from 'react-bootstrap';
import ActionButton from 'components/shared/ActionButton';

describe('<ActionButton />', () => {
  const Child = () => <p>Child</p>;
  const wrapper = (props) => shallow(<ActionButton {...props}><Child /></ActionButton>);

  it('renders with s__action-button class', () => {
    const subject = wrapper().prop('className').trim().split(' ');
    expect(subject).to.have.lengthOf(1);
    expect(subject).to.contain('s__action-button');
  });

  context('with custom class', () => {
    const subject = wrapper({className: 'custom-class'}).prop('className').trim().split(' ');

    it('renders with custom class', () => {
      expect(subject).to.have.lengthOf(2);
      expect(subject).to.contain('custom-class');
    });
  });

  context('with icon', () => {
    const subject = wrapper({icon: 'plus'}).find(Glyphicon);

    it('renders <Glyphicon /> with icon as glyph', () => {
      expect(subject).to.have.lengthOf(1);
      expect(subject.prop('glyph')).to.equal('plus');
    });
  });

  it('renders children', () => {
    const subject = wrapper().find(Child);
    expect(subject).to.have.lengthOf(1);
  });
});
