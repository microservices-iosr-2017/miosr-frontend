import React from 'react';
import {shallow} from 'enzyme';

import CardImage from 'components/shared/card/CardImage';

describe('<CardImage />', () => {
  const image = 'path_to_image.png';
  const color = '#fff';
  const className = 'custom-class';
  const wrapper = () => shallow(<CardImage image={image} color={color} className={className} />);

  it('renders with card__media class', () => {
    const subject = wrapper().prop('className');
    expect(subject).to.contain('card__media');
  });

  it('renders with custom class', () => {
    const subject = wrapper().prop('className');
    expect(subject).to.contain(className);
  });

  it('renders with image as background', () => {
    const subject = wrapper().prop('style');
    expect(subject).to.include({backgroundImage: `url('${image}')`});
  });

  it('renders with background color', () => {
    const subject = wrapper().prop('style');
    expect(subject).to.include({backgroundColor: color});
  });

  it('renders children', () => {
    const subject = shallow(<CardImage>Child</CardImage>).text();
    expect(subject).to.equal('Child');
  });
});
