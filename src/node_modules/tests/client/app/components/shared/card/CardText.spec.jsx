import React from 'react';
import {shallow} from 'enzyme';

import CardText from 'components/shared/card/CardText';

describe('<CardText />', () => {
  const className = 'custom-class';
  const wrapper = (text) => shallow(<CardText className={className}>{text}</CardText>);

  it('renders with card__text class', () => {
    const subject = wrapper().prop('className');
    expect(subject).to.contain('card__text');
  });

  it('renders with custom class', () => {
    const subject = wrapper().prop('className');
    expect(subject).to.contain(className);
  });

  context('with string text', () => {
    const text = 'Text';
    const subject = wrapper(text).find('p');

    it('renders text inside p element', () => {
      expect(subject).to.have.lengthOf(1);
      expect(subject.text()).to.equal(text);
    });
  });

  context('with React element as children', () => {
    const Text = () => <div>Text</div>;
    const subject = wrapper(<Text />);

    it('renders child', () => {
      expect(subject.find(Text)).to.have.lengthOf(1);
    });

    it('does not render p element', () => {
      expect(subject.find('p')).to.have.lengthOf(0);
    });
  });
});
