/* eslint no-unused-expressions: "off" */

sharedExamplesFor('API Router', ({router, name, url}) => {
  describe(`GET ${url}`, () => {
    it(`should route to ${name}.controller.index`, () => {
      router.get
        .withArgs('/', 'authService.isAuthenticated', `${name}Ctrl.index`)
        .should.have.been.calledOnce;
    });
  });

  describe(`GET ${url}/:id`, () => {
    it(`should route to ${name}.controller.show`, () => {
      router.get
        .withArgs('/:id', 'authService.isAuthenticated', `${name}Ctrl.show`)
        .should.have.been.calledOnce;
    });
  });

  describe(`POST ${url}`, () => {
    it(`should route to ${name}.controller.create`, () => {
      router.post
        .withArgs('/', 'authService.isAuthenticated', `${name}Ctrl.create`)
        .should.have.been.calledOnce;
    });
  });

  describe(`PUT ${url}/:id`, () => {
    it(`should route to ${name}.controller.upsert`, () => {
      router.put
        .withArgs('/:id', 'authService.isAuthenticated', `${name}Ctrl.upsert`)
        .should.have.been.calledOnce;
    });
  });

  describe(`PATCH ${url}/:id`, () => {
    it(`should route to ${name}.controller.patch`, () => {
      router.patch
        .withArgs('/:id', 'authService.isAuthenticated', `${name}Ctrl.patch`)
        .should.have.been.calledOnce;
    });
  });

  describe(`DELETE ${url}/:id`, () => {
    it(`should route to ${name}.controller.destroy`, () => {
      router.delete
        .withArgs('/:id', 'authService.isAuthenticated', `${name}Ctrl.destroy`)
        .should.have.been.calledOnce;
    });
  });
});
