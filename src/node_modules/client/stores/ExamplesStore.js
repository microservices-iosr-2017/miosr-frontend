import alt from 'client/app/alt';

import ExamplesActions from 'client/app/actions/ExamplesActions';
import ExamplesSource from 'client/app/sources/ExamplesSource';

class ExamplesStore {
  constructor() {
    this.bindListeners({
      handleFetch: ExamplesActions.FETCH_EXAMPLES,
      handleFetchSucceess: ExamplesActions.FETCH_EXAMPLES_SUCCESS,
    });
  }

  handleFetch() {
    ExamplesSource.fetch();
  }

  handleFetchSucceess(payload) {
    this.setState({examples: payload.text});
  }
}

export default alt.createStore(ExamplesStore, 'ExamplesStore');
