
class ExampleStore {
  constructor(actionHolder, source) {
    this.bindListeners({
      onFetch: actionHolder.FETCH_EXAMPLE,
      onFetchSucceess: actionHolder.FETCH_EXAMPLE_SUCCESS,
      onFetchFailure: actionHolder.FETCH_EXAMPLE_FAILURE,
    });

    this.source = source;
    this.example = "";
    this.error = "no error";
  }

  onFetch() {
    this.source.fetch();
  }

  onFetchSucceess(payload) {
    this.setState({example: payload.text});
  }

  onFetchFailure(err) {
    this.setState({error: JSON.stringify(err)});
  }
}

export function createExampleStore({altInstance, exampleActions, exampleSource}) {
  return altInstance.createStore(ExampleStore, 'ExampleStore', exampleActions, exampleSource);
}
