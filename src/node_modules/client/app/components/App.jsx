import React from 'react';
import {history} from 'routes';
import RecipesActions from 'actions/RecipesActions';

import Navbar from './navbar/Navbar';

function createAppComponent(loggedIn) {
  return props => (
    <div className="app">
      {/* eslint-disable no-console */}
      <Navbar loggedIn={loggedIn} onSearch={searchTerm => {
        RecipesActions.searchRecipes(searchTerm);
        history.push('/recipes');
      }} />
      {/* eslint-enable no-console */}
      {props.children}
    </div>
  );
}

export const LoggedInApp = createAppComponent(true);
export const LoggedOutApp = createAppComponent(false);
