import React from 'react';
import {If, Then} from 'react-if';
import Recipe from 'schemas/RecipeSchema';

const RecipeIngredients = ({recipe}) => (
  <If condition={recipe.ingredients instanceof Array}>
    <Then>{() => (
      <ul>
        {recipe.ingredients.map(ingredient => (
          <li key={ingredient._id}>
            {ingredient.qty}
            {ingredient.unit ? ` ${ingredient.unit}` : ''}
            {' '}
            {ingredient.name}
            {ingredient.note ? `, ${ingredient.note}` : ''}
          </li>
        ))}
      </ul>
    )}
    </Then>
  </If>

);

RecipeIngredients.propTypes = {
  recipe: Recipe.only('ingredients').isRequired,
};

export default RecipeIngredients;
