import React, {PropTypes} from 'react';
import {RecipeTypes} from 'schemas/RecipeSchema';
import {
  Grid,
  Row,
  Form,
  FormGroup,
  ControlLabel,
  FormControl,
  ButtonToolbar,
  Button
} from 'react-bootstrap';

import IngredientListContainer from './ingredient_list/IngredientListContainer';

import './recipe-creator.scss';

const RecipeCreatorView = ({recipe, onSubmit, onCancel, onChange}) => (
  <Grid className="c__recipe-creator">
    <Row>
      <Form>
        <FormGroup>
          <ControlLabel>Image</ControlLabel>
          <FormControl value={recipe.image}
                       placeholder="Input Image URL here"
                       onChange={e => onChange('image', e.target.value)} />

          <ControlLabel>Title</ControlLabel>
          <FormControl value={recipe.title}
                       placeholder="What are you making?"
                       onChange={e => onChange('title', e.target.value)} />
        </FormGroup>
        <FormGroup>
          <ControlLabel>Description</ControlLabel>
          <FormControl componentClass="textarea"
                       value={recipe.description}
                       rows={4}
                       placeholder="Describe your recipe"
                       onChange={e => onChange('description', e.target.value)} />
        </FormGroup>
        <FormGroup>
          <ControlLabel>Ingredients</ControlLabel>
          <IngredientListContainer ingredients={recipe.ingredients} />
        </FormGroup>
        <FormGroup>
          <ControlLabel>Instructions</ControlLabel>
          <FormControl componentClass="textarea"
                       value={recipe.instructions}
                       rows={20}
                       placeholder="How to make it"
                       onChange={e => onChange('instructions', e.target.value)} />
        </FormGroup>

        <ButtonToolbar>
          <Button bsSize="large" bsStyle="danger" onClick={onCancel}>Discard Recipe</Button>
          <Button bsSize="large" bsStyle="primary" onClick={onSubmit}>Submit Recipe</Button>
        </ButtonToolbar>
      </Form>
    </Row>
  </Grid>
);

RecipeCreatorView.propTypes = {
  recipe: RecipeTypes.except('_id').isRequired,
  onSubmit: PropTypes.func,
  onCancel: PropTypes.func,
  onChange: PropTypes.func,
};

RecipeCreatorView.defaultProps = {
  onChange: () => {
  },
};

export default RecipeCreatorView;
