import React, {PropTypes} from 'react';
import {IngredientTypes} from 'schemas/IngredientSchema';

import IngredientFormGroup from './IngredientFormGroup';

const IngredientList = ({ingredients, onChange, onDelete}) => (
  <div>
    {ingredients.map((ingredient, i) => (
      <IngredientFormGroup ingredient={ingredient}
                           onChange={(key, value) => onChange(ingredient._id, key, value)}
                           onDelete={() => onDelete(ingredient._id)}
                           removable={i !== ingredients.length - 1}
                           key={ingredient._id} />
    ))}
  </div>
);

IngredientList.propTypes = {
  ingredients: PropTypes.arrayOf(IngredientTypes).isRequired,
  onChange: PropTypes.func,
  onDelete: PropTypes.func,
};

IngredientList.defaultProps = {
  onChange: () => {},
  onDelete: () => {},
};

export default IngredientList;
