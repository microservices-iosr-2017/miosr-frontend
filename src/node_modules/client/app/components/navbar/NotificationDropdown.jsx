import React from 'react'
import { NavDropdown, MenuItem, Glyphicon } from 'react-bootstrap'

import NotificationStore from 'client/app/stores/NotificationStore'
import StoreStateSubscriber from 'mixins/StoreStateSubscriber'

const notificationSubscriber = StoreStateSubscriber(NotificationStore);

export default class NotificationDropdown extends notificationSubscriber(React.Component) {
  constructor(props) {
    super(props);
  }

  render() {
    let notifications = this.state.notifications.map((elem, i) =>
      <MenuItem key={elem._id}>{elem.text}</MenuItem>
    );

    return (
      <NavDropdown
        {...this.props}
        title={<Glyphicon glyph="bell" aria-label="notifications" />}
        className="navbar-notif-dropdown navbar-icon"
        id="navbar-notif-dropdown"
        aria-hidden
      >

        {notifications}

      </NavDropdown>
    );
  }
}
