import './app.scss';
import React from 'react';
import ReactDOM from 'react-dom';

import * as auth from 'client/sharedjs/auth';
import { ensureCookiesEnabled } from 'client/sharedjs/cookies';

import RouteProvider from './routes';

require('offline-plugin/runtime').install();

function app() {
  if (!auth.isCookiePresent()) {
    window.location.href = '/';
  } else {
    ReactDOM.render(
      <RouteProvider />,
      document.getElementById('content')
    );
  }
}

ensureCookiesEnabled(app);
